{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Sergipetec/Documents/supabase-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SupabaseService } from './supabase.service';\nimport * as i0 from \"@angular/core\";\nexport class AuthComponent {\n  constructor() {\n    this.loading = false;\n    this.supabase = inject(SupabaseService);\n  }\n\n  handleLogin(input) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.loading = true;\n        yield _this.supabase.signIn(input);\n        alert('Check your email for the login link!');\n      } catch (error) {\n        alert(error.error_description || error.message);\n      } finally {\n        _this.loading = false;\n      }\n    })();\n  }\n\n}\n\nAuthComponent.ɵfac = function AuthComponent_Factory(t) {\n  return new (t || AuthComponent)();\n};\n\nAuthComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AuthComponent,\n  selectors: [[\"app-auth\"]],\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 12,\n  vars: 2,\n  consts: [[1, \"row\", \"flex-center\", \"flex\"], [1, \"col-6\", \"form-widget\"], [1, \"header\"], [1, \"description\"], [\"type\", \"emial\", \"placeholder\", \"Your email\", 1, \"inputField\"], [\"input\", \"\"], [\"type\", \"submit\", 1, \"button\", \"block\", 3, \"disabled\", \"click\"]],\n  template: function AuthComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Supabase + Angular\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\", 3);\n      i0.ɵɵtext(5, \"Sign in via magic link with your email below\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\");\n      i0.ɵɵelement(7, \"input\", 4, 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\")(10, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function AuthComponent_Template_button_click_10_listener() {\n        i0.ɵɵrestoreView(_r1);\n\n        const _r0 = i0.ɵɵreference(8);\n\n        return i0.ɵɵresetView(ctx.handleLogin(_r0.value));\n      });\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"disabled\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"loading\" : \"Send magic link\", \" \");\n    }\n  },\n  dependencies: [CommonModule],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhdXRoLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":";AAAA,SAAoBA,MAApB,QAA0C,eAA1C;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,eAAT,QAAgC,oBAAhC;;AASA,OAAM,MAAOC,aAAP,CAAoB;EAP1BC;IAQE,eAAU,KAAV;IAEiB,gBAAWJ,MAAM,CAACE,eAAD,CAAjB;EAalB;;EAXOG,WAAW,CAACC,KAAD,EAAc;IAAA;;IAAA;MAC7B,IAAI;QACF,KAAI,CAACC,OAAL,GAAe,IAAf;QACA,MAAM,KAAI,CAACC,QAAL,CAAcC,MAAd,CAAqBH,KAArB,CAAN;QACAI,KAAK,CAAC,sCAAD,CAAL;MACD,CAJD,CAIE,OAAOC,KAAP,EAAmB;QACnBD,KAAK,CAACC,KAAK,CAACC,iBAAN,IAA2BD,KAAK,CAACE,OAAlC,CAAL;MACD,CAND,SAMU;QACR,KAAI,CAACN,OAAL,GAAe,KAAf;MACD;IAT4B;EAU9B;;AAfuB;;;mBAAbJ;AAAa;;;QAAbA;EAAaW;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;;MCX1BC,+BAAkC,CAAlC,EAAkC,MAAlC,EAAkC,CAAlC,EAAkC,CAAlC,EAAkC,IAAlC,EAAkC,CAAlC;MAEuBA;MAAkBA;MACrCA;MAAuBA;MAA4CA;MACnEA;MACEA;MACFA;MACAA,4BAAK,EAAL,EAAK,QAAL,EAAK,CAAL;MAIIA;QAAAA;;QAAA;;QAAA,OAASA,0CAAT;MAAiC,CAAjC;MAGAA;MACFA;;;;MAHEA;MAAAA;MAEAA;MAAAA;;;iBDPIpB;EAAYqB","names":["inject","CommonModule","SupabaseService","AuthComponent","constructor","handleLogin","input","loading","supabase","signIn","alert","error","error_description","message","selectors","standalone","features","decls","vars","consts","template","i0","styles"],"sourceRoot":"","sources":["C:\\Users\\Sergipetec\\Documents\\supabase-angular\\src\\app\\auth.component.ts","C:\\Users\\Sergipetec\\Documents\\supabase-angular\\src\\app\\auth.component.html"],"sourcesContent":["import { Component, inject, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SupabaseService } from './supabase.service';\n\n@Component({\n  selector: 'app-auth',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css'],\n})\nexport class AuthComponent {\n  loading = false;\n\n  private readonly supabase = inject(SupabaseService);\n\n  async handleLogin(input: string) {\n    try {\n      this.loading = true;\n      await this.supabase.signIn(input);\n      alert('Check your email for the login link!');\n    } catch (error: any) {\n      alert(error.error_description || error.message);\n    } finally {\n      this.loading = false;\n    }\n  }\n}\n","<div class=\"row flex-center flex\">\n  <form class=\"col-6 form-widget\">\n    <h1 class=\"header\">Supabase + Angular</h1>\n    <p class=\"description\">Sign in via magic link with your email below</p>\n    <div>\n      <input #input class=\"inputField\" type=\"emial\" placeholder=\"Your email\" />\n    </div>\n    <div>\n      <button\n        class=\"button block\"\n        type=\"submit\"\n        (click)=\"handleLogin(input.value)\"\n        [disabled]=\"loading\"\n      >\n        {{ loading ? \"loading\" : \"Send magic link\" }}\n      </button>\n    </div>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module"}